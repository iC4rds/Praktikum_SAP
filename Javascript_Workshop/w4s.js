var w4s=function(){"use strict";function i(t){var e=document.querySelector(t);return e||{}}function e(){try{return void 0!==process.env.JEST_WORKER_ID}catch(t){return!1}}var u=(o.processToString=function(t){var e;return"{"===(e="object"==typeof t?JSON.stringify(t,null,"\t"):t)[0]?e="<span class='object-text'>"+e+"</span>":"["===e[0]&&(e="[",e="<span class='array-text'>"+(e+=t.join(", ")+"]")+"</span>"),"string"==typeof e&&(e=(e=e.replace(/\n/g,"<br />")).replace(/\t/g,"&emsp;")),e},o.getTextBoxContent=function(t){void 0===t&&(t=".w4s-output");var e=document.querySelector(t);return e?e.innerHTML:""},o.createDOMElement=function(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild},o.writeToTextBox=function(t,e){void 0===e&&(e=".w4s-output");var n=i(e);n&&(n.innerHTML+=t,n.scrollTo&&n.scrollTo(0,n.scrollHeight))},o.clearTextBox=function(t){void 0===t&&(t=".w4s-output"),i(t).innerHTML=""},o.checkIfAllParametersAreFilled=function(t){var e=!0,n=1;for(var o in t)t[o]||(e=!1,console.error("Der Parameter an der Stelle %c"+n+" %cmit dem Namen %c"+o+" %cmuss angegeben werden.","color:blue","color:red","color:blue","color:red")),n++;return e},o.checkParameters=function(t){var e=!0,n=1;return t.forEach(function(t){t.value||t.optional?t.allowedValues?-1===t.allowedValues.indexOf(t.value)&&(e=!1,console.error("Für den Parameter an der Stelle %c"+n+" %cmit dem Namen %c"+t.name+" %csind nur diese Werte erlaubt:  %c"+t.allowedValues.join(", "),"color:blue","color:red","color:blue","color:red","color:blue"),o.printConsoleError("Für den Parameter an der Stelle "+n+" mit dem Namen "+t.name+" sind nur diese Werte erlaubt:  "+t.allowedValues.join(", "))):-1===t.typeList.indexOf(typeof t.value)&&(e=!1,console.error("Der Parameter an der Stelle %c"+n+" %cmit dem Namen %c"+t.name+" %cdarf nur von diesen Typen sein: %c"+t.typeList.join(", "),"color:blue","color:red","color:blue","color:red","color:blue"),o.printConsoleError("Der Parameter an der Stelle "+n+" mit dem Namen "+t.name+" darf nur von diesen Typen sein: "+t.typeList.join(", "))):(e=!1,console.error("Der Parameter an der Stelle %c"+n+" %cmit dem Namen %c"+t.name+" %cmuss angegeben werden.","color:blue","color:red","color:blue","color:red"),o.printConsoleError("Der Parameter an der Stelle "+n+" mit dem Namen "+t.name+" muss angegeben werden.")),n++}),e},o.printConsoleError=function(t,e){void 0===e&&(e=".w4s-output"),t="<span class='error'>"+(t=o.processToString(t=t||"undefined"))+"</span>";var n=o.getTextBoxContent(".w4s-console-output");"<br>"===n.substr(n.length-4,4)||""===n.substr(n.length-4,4)?o.writeToTextBox(t+"<br>",e):o.writeToTextBox("<br>"+t+"<br>",e)},o.isStandalone=function(){var t=document.querySelector("body");return!t||0===t.querySelectorAll("*:not(script)").length},o.print=function(t,e){void 0===e&&(e=".w4s-output"),o.checkIfAllParametersAreFilled({content:t})&&(t=o.processToString(t),o.writeToTextBox(t,e))},o.println=function(t,e){if(void 0===e&&(e=".w4s-output"),o.checkIfAllParametersAreFilled({content:t})){t=o.processToString(t);var n=o.getTextBoxContent();"<br>"===n.substr(n.length-4,4)||""===n.substr(n.length-4,4)?o.writeToTextBox(t+"<br>",e):o.writeToTextBox("<br>"+t+"<br>",e)}},o);function o(){}var r=(s.init=function(){var t=document.createElement("div");t.classList.add("notification-container");var e=document.querySelector("body");e&&e.appendChild(t),setInterval(this.runNotificationTimer,600)},s.runNotificationTimer=function(){var t=document.querySelector(".notification-container"),e=s.NotifyList[0];t&&e&&(setTimeout(function(){e.element.classList.add("show")},0),setTimeout(e.hideNotification,5e3),t.appendChild(e.element)),s.NotifyList.shift()},s.prototype.showNotification=function(){var t=document.createElement("div");t.classList.add(this.type),t.classList.add("notification"),t.setAttribute("data-id",String(this.id)),t.innerHTML='<p class="notification-title">'+this.title+'</p><p class="notification-message">'+this.message+"</p>",t.onclick=this.hideNotification,this.element=t,s.NotifyList.push(this),e()&&s.runNotificationTimer()},s.counter=0,s.NotifyList=[],s);function s(t,e,n){var o=this;this.hideNotification=function(){var t=document.querySelector('.notification[data-id="'+o.id+'"]');t&&(t.classList.remove("show"),setTimeout(function(){t&&t.remove()},500))},this.title=t,this.message=e,this.type=n,this.id=s.counter,s.counter++;var i=document.querySelector(".notification-container");i?this.container=i:(s.init(),this.container=document.querySelector(".notification-container"))}var p=(a.init=function(){a.wrapper=i(".w4s-dialog-wrapper"),a.dialog=i(".w4s-dialog"),a.registerEventHandlers()},a.lockOverflow=function(){document.body.classList.add("overflow-lock")},a.releaseOverflow=function(){document.body.classList.remove("overflow-lock")},a.registerEventHandlers=function(){document.body.addEventListener("keyup",function(t){"Escape"===t.key&&a.close(!0)})},a.close=function(t,e){(!t||a.options&&a.options.isClosable)&&(a.wrapper.classList.add("isClosing"),setTimeout(function(){a.releaseOverflow(),a.wrapper.classList.remove("open"),a.wrapper.classList.remove("isClosing"),e&&e()},300))},a.showDialog=function(t,e,n){a.options=n,a.wrapper.classList.add("open"),a.currentDialog&&a.dialog.removeChild(a.currentDialog),a.lockOverflow(),a.currentDialog=function(t,e,n){var o=n,i=(o=o||{}).btn1Text?'<button class="dialog-btn1">'+o.btn1Text+"</button>":"",r=o.btn2Text?'<button class="dialog-btn2 secondary">'+o.btn2Text+"</button>":"",s="\n\t\t<div>\n\t\t\t"+(o.isClosable?'<span class="dialog-close-btn">x</span>':"")+' \n\t\t\t<div class="dialog-title">'+t+'</div>\n        \t<div class="dialog-content">'+e+'</div>\n\t\t\t<div class="dialog-footer">\n\t\t\t\t'+i+"\n\t\t\t\t"+r+" \n        \t</div>\n\t\t</div>\n\t",a=u.createDOMElement(s),l=a.querySelector(".dialog-btn1"),c=a.querySelector(".dialog-btn2"),d=a.querySelector(".dialog-close-btn");return l&&o.btn1Callback&&l.addEventListener("click",o.btn1Callback),c&&o.btn2Callback&&c.addEventListener("click",o.btn2Callback),d&&d.addEventListener("click",function(){return p.close()}),a}(t,e,a.options),a.dialog.appendChild(a.currentDialog)},a.options=void 0,a);function a(){}var t=[{title:"JavaScript Console",content:'\n\t\t\t<div class="w4s-console-output-wrapper">\n\t\t\t\t<div class="w4s-console-output"></div>\n\t\t\t</div>\n\t\t<input type="text" id="w4s-console-input" class="w4s-console" placeholder="Gebe hier einen JavaScript Befehl ein">'},{title:"Textausgabe",content:'<div class="w4s-output"></div>'},{title:"Buttons",content:'<div class="w4s-buttons"></div>'}],l=[],c=0,n=(d.appendBoxes=function(){t.forEach(function(t){var e=u.createDOMElement(function(t,e){return'\n<div class="w4s-box">\n\t<div class="w4s-box-header">\n\t\t<h2>'+t+'</h2>\n\t</div>\n\t<div class="w4s-box-content">\n\t\t'+e+"\n\t</div>\n</div>"}(t.title,t.content));i(".w4s-content").append(e)}),u.isStandalone()||function(t){var e=document.querySelectorAll(t);return e||{}}(".w4s-box-header").forEach(function(t){t.addEventListener("click",d.toggleOpenBox)})},d.toggleOpenBox=function(t){var e=i(".w4s-box.open");if(t.target&&t.target!==i(".w4s-box.open")){var n=t.target.parentNode.parentNode;n.classList.contains("w4s-box")?n.classList.add("open"):t.target.parentNode.classList.add("open")}e.innerHTML&&e.classList.remove("open")},d.initWorkspace=function(){var t=u.isStandalone(),e=document.querySelector("body");if(e){t?e.classList.add("w4s-standalone"):e.classList.add("w4s-module");var n='\n\t\t\t<div class="w4s-workspace">\n\t\t\t\t<div class="w4s-sidebar"><span class="sidebar-title">Workshops4Schools</span></div>\n\t\t\t\t<div class="w4s-navbar"><a href="https://www.sap.de" class="sap-logo"></a><span class="w4s-title">Workshops4Schools</span></div>\n\t\t\t\t<div class="w4s-border-helper"></div>\n\t\t\t\t<div class="w4s-border-bg-helper"></div>\n\t\t\t\t<div class="w4s-content">\n\t\t\t\t\t<div class="w4s-close">\n\t\t\t\t\t\t<svg height="20" width="20" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 477.175 477.175">\n\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t<path fill="#d4d4d4" d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225\n\t\t\t\t\t\t\t\tc2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="w4s-dialog-wrapper">\n\t\t\t\t\t<div class="w4s-dialog-bg"></div>\n\t\t\t\t\t<div class="w4s-dialog"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t';return e.append(u.createDOMElement(n)),t||(i(".w4s-sidebar").addEventListener("click",function(){i(".w4s-workspace").classList.toggle("open")}),i(".w4s-close").addEventListener("click",function(){i(".w4s-workspace").classList.remove("open")})),d.appendBoxes(),i("#w4s-console-input").addEventListener("keyup",function(t){if("Enter"===t.key&&t.target){c=0;var e=t.target.value;l.push(e),u.println("> "+e,".w4s-console-output");try{var n=(0,eval)(e);n&&u.println(n,".w4s-console-output")}catch(t){u.printConsoleError(t.message,".w4s-console-output")}i("#w4s-console-input").value=""}else if("ArrowUp"===t.key)c>-l.length&&c--,(o=l[l.length+c])&&(i("#w4s-console-input").value=o);else if("ArrowDown"===t.key){var o;c<-1&&c++,(o=l[l.length+c])&&(i("#w4s-console-input").value=o)}else 0===t.target.value.length&&(c=0)}),p.init(),n}},d);function d(){}var v=(f.stringify=function(t){return u.processToString(t)},f.print=function(t){u.print(t)},f.clear=function(){u.clearTextBox()},f.println=function(t){u.println(t)},f.showDialog=function(t,e,n){p.showDialog(t,e,n)},f.closeDialog=function(t){p.close(!1,t)},f.notify=function(t,e,n){u.checkParameters(function(t){return[{name:"title",typeList:["string","number"],value:t[0]},{name:"message",typeList:["string","number"],value:t[1]},{name:"type",typeList:["string","number"],value:t[2],allowedValues:["success","info","error","warning"]}]}([t,e,n]))&&new r(t,e,n).showNotification()},f.addButton=function(t,e){if(u.checkParameters(function(t){return[{name:"text",typeList:["string","number"],value:t[0]},{name:"callback",typeList:["function"],value:t[1]}]}([t,e]))){var n=u.createDOMElement('<button class="btn">'+t+"</button>");return n.addEventListener("click",e),i(".w4s-buttons").appendChild(n),n}},f.addInput=function(t,e,n,o){u.checkParameters(function(t){return[{name:"label",value:t[0],typeList:["string","number"]},{name:"placeholder",value:t[1],typeList:["string","number"]},{name:"inputType",value:t[2],allowedValues:["text","number"],typeList:["string"]},{name:"onSubmit",value:t[3],typeList:["function"],optional:!0}]}([t,e,n,o]))},f);function f(){}return e()||(function(){var t="w4s-style";if(!document.getElementById(t)){var e=document.getElementsByTagName("head")[0],n=document.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href="./w4s.css",n.media="all",e.appendChild(n)}}(),n.initWorkspace()),v}();
//# sourceMappingURL=w4s.js.map
